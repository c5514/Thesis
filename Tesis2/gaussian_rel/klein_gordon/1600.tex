\documentclass{standalone}
\usepackage{pgfplots}
\pgfplotsset{
    compat=1.18,
    % Global style improvements
    every axis/.style={
        axis on top=true,        % Grid lines behind plot
        tick style={thin,black}, % Cleaner ticks
        major grid style={line width=0.3pt},
        minor grid style={line width=0.1pt},
        enlarge x limits=0.03,   % Padding on left/right
        enlarge y limits=0.08,   % Padding on top/bottom
        scaled ticks=false,      % Prevent scientific notation
        clip=false,              % Prevent cutting off data
        ymin=0,
        ymax=0.8,
    }
}

\begin{document}
\begin{tikzpicture}[font=\small]
	\begin{axis}[
			width=1.2\textwidth,
			height=0.4\textwidth,
			xlabel={$z$},
			ylabel={$\rho(z,t)$},
			% title={$t=0.0$ s},
			xlabel shift=0pt,  % Move x-label away from ticks
			ylabel shift=0pt,  % Move y-label away from ticks
			tick label style={
					inner sep=1pt,   % Add space around tick labels
					font=\scriptsize
				},
			axis background/.style={fill=white}  % Fix grid lines behind plot
		]

		% Plot with optimized settings for large datasets
		\addplot [
			blue,
			% thick,
			mark=none,  % Disable point markers
			% each nth point=5  % Plot only every 5th point (for performance)
		] table [x=z, y=rho_density] {./rho_data/rho_t_48000.dat};
	\end{axis}
\end{tikzpicture}
\end{document}
